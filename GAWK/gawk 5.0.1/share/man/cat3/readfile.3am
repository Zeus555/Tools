READFILE(3am)              GNU Awk Extension Modules             READFILE(3am)



NNAAMMEE
       readfile - return the entire contents of a file as a string

SSYYNNOOPPSSIISS
       @load "readfile"

       result = readfile("/some/path")

       For making whole files be single records:

       @load "readfile"
       BEGIN { PROCINFO["readfile"] = 1 }

DDEESSCCRRIIPPTTIIOONN
       The  _r_e_a_d_f_i_l_e  extension  adds a single function named rreeaaddffiillee(()).  The
       argument is the name of the file to read.  The return value is a string
       containing the entire contents of the requested file.

       Upon error, the function returns the empty string and sets EERRRRNNOO.

       In   addition,   it   adds   an  input  parser  that  is  activated  if
       PROCINFO["readfile"] exists.  When activated, each input  file  is  re-
       turned in its entirety as $0.  RT is set to the null string.

EEXXAAMMPPLLEE
       @load "readfile"
       ...
       contents = readfile("/path/to/file");
       if (contents == "" && ERRNO != "") {
           print("problem reading file", ERRNO) > "/dev/stderr"
           ...
       }

SSEEEE AALLSSOO
       _G_A_W_K_:   _E_f_f_e_c_t_i_v_e   _A_W_K   _P_r_o_g_r_a_m_m_i_n_g,   _f_i_l_e_f_u_n_c_s(3am),  _f_n_m_a_t_c_h(3am),
       _f_o_r_k(3am),  _i_n_p_l_a_c_e(3am),  _o_r_d_c_h_r(3am),  _r_e_a_d_d_i_r(3am),  _r_e_v_o_u_t_p_u_t(3am),
       _r_w_a_r_r_a_y(3am), _t_i_m_e(3am).

AAUUTTHHOORR
       Arnold Robbins, aarrnnoolldd@@sskkeeeevvee..ccoomm.

CCOOPPYYIINNGG PPEERRMMIISSSSIIOONNSS
       Copyright (C) 2012, 2013, 2014, 2018, Free Software Foundation, Inc.

       Permission  is  granted  to make and distribute verbatim copies of this
       manual page provided the copyright notice and  this  permission  notice
       are preserved on all copies.

       Permission  is granted to copy and distribute modified versions of this
       manual page under the conditions for verbatim  copying,  provided  that
       the  entire  resulting derived work is distributed under the terms of a
       permission notice identical to this one.

       Permission is granted to copy and distribute translations of this  man-
       ual page into another language, under the above conditions for modified
       versions, except that this permission notice may be stated in a  trans-
       lation approved by the Foundation.



Free Software Foundation          Feb 02 2018                    READFILE(3am)
